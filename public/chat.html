<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VoltronChat</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ğŸ”¹ Ğ›Ğ¾Ğ³Ğ¾ -->
  <div class="logo-block">
    <img src="/images/logo.png" alt="Chat Logo" class="logo-img" />
  </div>

  <!-- ğŸ”¹ ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ¸ -->
  <div class="mobile-tabs">
    <button class="tab" data-screen="online" title="ĞĞ½Ğ»Ğ°Ğ¹Ğ½">ğŸŸ¢</button>
    <button class="tab" data-screen="chat" title="ĞĞ±Ñ‰Ğ¸Ğ¹ Ñ‡Ğ°Ñ‚">ğŸ’¬</button>
    <button class="tab" data-screen="private" title="Ğ›Ğ¸Ñ‡ĞºĞ°">âœ‰ï¸</button>
  </div>

  <!-- ğŸ”¹ ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ -->
  <div class="chat-container">
    <!-- ğŸŸ¢ ĞĞ½Ğ»Ğ°Ğ¹Ğ½ -->
    <div class="sidebar-left screen" id="screen-online">
      <div class="column-headers">
        <div class="column-title">ĞĞ½Ğ»Ğ°Ğ¹Ğ½</div>
        <form action="/logout" method="POST">
          <button id="exit-button">Ğ’Ñ‹Ğ¹Ñ‚Ğ¸</button>
        </form>
      </div>
      <ul id="online-users-desktop"></ul>
      <ul id="online-users-mobile" style="display:none"></ul>
    </div>

    <!-- ğŸ’¬ ĞĞ±Ñ‰Ğ¸Ğ¹ Ñ‡Ğ°Ñ‚ -->
    <div class="chat-center screen" id="screen-chat">
      <div class="column-headers">
        <div class="column-title">ĞĞ±Ñ‰Ğ¸Ğ¹ Ñ‡Ğ°Ñ‚</div>
      </div>
      <div id="chat-history-desktop"></div>
      <!-- ğŸ”¹ Ğ¡Ğ¼Ğ°Ğ¹Ğ»Ğ¸ĞºĞ¸ -->
      <div class="emoji-row">
        <button type="button" class="emoji-btn">ğŸ˜€</button>
        <button type="button" class="emoji-btn">ğŸ˜‚</button>
        <button type="button" class="emoji-btn">ğŸ”¥</button>
        <button type="button" class="emoji-btn">ğŸ‘</button>
        <button type="button" class="emoji-btn">ğŸ˜</button>
        <button type="button" class="emoji-btn">ğŸ¥³</button>
      </div>
      <!-- Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ -->
      <div class="unified-input-row">
        <input id="unified-input" type="text" placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ..." autocomplete="off" />
        <button id="emoji-toggle" title="Ğ¡Ğ¼Ğ°Ğ¹Ğ»Ğ¸ĞºĞ¸">ğŸ˜Š</button>
        <button id="chat-send" title="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ñ‡Ğ°Ñ‚">ğŸ’¬</button>
        <button id="private-send" title="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ»Ğ¸Ñ‡ĞºÑƒ">âœ‰ï¸</button>
      </div>
    </div>

    <!-- âœ‰ï¸ Ğ›Ğ¸Ñ‡ĞºĞ° -->
    <div class="sidebar-right screen" id="screen-private">
      <div class="column-headers">
        <div class="column-title">Ğ›Ğ¸Ñ‡ĞºĞ°</div>
      </div>
      <div id="private-history-desktop"></div>
      <!-- Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ´Ğ»Ñ Ğ»Ğ¸Ñ‡ĞºĞ¸ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ ÑĞºÑ€Ñ‹Ñ‚Ğ¾) -->
      <div class="unified-input-row" id="private-input-row" style="display:none;">
        <input id="unified-input-private" type="text" placeholder="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ..." autocomplete="off" />
        <button id="private-send" title="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ»Ğ¸Ñ‡ĞºÑƒ">âœ‰ï¸</button>
      </div>
    </div>
  </div>

  <!-- ğŸ”” ĞÑƒĞ´Ğ¸Ğ¾ Ğ´Ğ»Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ -->
  <audio id="notif" src="/notif.mp3" preload="auto"></audio>

  <!-- ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Socket.IO Ğ¸ chat.js -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="chat.js"></script>
  <script>
// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Enter Ğ´Ğ»Ñ Ğ¾Ğ±Ñ‰ĞµĞ³Ğ¾ Ñ‡Ğ°Ñ‚Ğ°
const chatInput = document.getElementById('chat-input-desktop');
const chatSend = document.getElementById('chat-send-desktop');
if (chatInput && chatSend) {
  chatInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      chatSend.click();
      e.preventDefault();
    }
  });
}
// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Enter Ğ´Ğ»Ñ Ğ»Ğ¸Ñ‡ĞºĞ¸
const privateInput = document.getElementById('private-input-desktop');
const privateSend = document.getElementById('private-send-desktop');
if (privateInput && privateSend) {
  privateInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      privateSend.click();
      e.preventDefault();
    }
  });
}
// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Enter Ğ´Ğ»Ñ ÑƒĞ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ²Ğ¾Ğ´Ğ°
const unifiedInput = document.getElementById('unified-input');
const chatSendButton = document.getElementById('chat-send');
const privateSendButton = document.getElementById('private-send');
if (unifiedInput && chatSendButton && privateSendButton) {
  unifiedInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      if (document.querySelector('.screen:target') === document.getElementById('screen-chat')) {
        chatSendButton.click();
      } else if (document.querySelector('.screen:target') === document.getElementById('screen-private')) {
        privateSendButton.click();
      }
      e.preventDefault();
    }
  });
}
</script>
</body>
</html>